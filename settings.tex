% CREATED BY DAVID FRIsK, 2016
\documentclass[12pt, a4paper, twoside, openright]{report}

% BASIC SETTINGS
\usepackage{moreverb}								% List settings
\usepackage{amsmath}								% Mathematical expressions (American mathematical society)
\usepackage{amssymb}								% Mathematical symbols (American mathematical society)
\usepackage{graphicx}								% Figures
\usepackage{titling}
\usepackage{unicode-math}

\numberwithin{equation}{chapter}		% Numbering order for equations
\numberwithin{figure}{chapter}			% Numbering order for figures
\numberwithin{table}{chapter}				% Numbering order for tables

\usepackage[top=3cm, bottom=3cm, inner=3cm, outer=3cm]{geometry}

\usepackage{eso-pic}								% Create cover page background
\newcommand{\backgroundpic}[3]{
	\put(#1,#2){
	\parbox[b][\paperheight]{\paperwidth}{
	\centering
	\includegraphics[width=\paperwidth,height=\paperheight,keepaspectratio]{#3}}}}
\usepackage{float} 		% Enables object position enforcement using [H]
\usepackage{parskip}	% Enables vertical spaces correctly
\usepackage{lipsum}
\usepackage{datetime} %date formatting tools

\makeatletter
\long\def\subtitle#1{\gdef\thesubtitle{#1}}
\long\def\thesubtitle{\@latex@warning@no@line{No \noexpand\subtitle given}}

\def\supervisor#1{\gdef\thesupervisor{#1}}
\def\thesupervisor{\@latex@warning@no@line{No \noexpand\supervisor given}}

\def\examiner#1{\gdef\theexaminer{#1}}
\def\theexaminer{\@latex@warning@no@line{No \noexpand\examiner given}}

\def\departmentofsupervisor#1{\gdef\thedepartmentofsupervisor{#1}}
\def\thedepartmentofsupervisor{\@latex@warning@no@line{No \noexpand\departmentofsupervisor given}}

\def\departmentofexaminer#1{\gdef\thedepartmentofexaminer{#1}}
\def\thedepartmentofexaminer{\@latex@warning@no@line{No \noexpand\departmentofexaminer given}}

\def\division#1{\gdef\thedivision{#1}}
\def\thedivision{\@latex@warning@no@line{No \noexpand\division given}}

\def\keywords#1{\gdef\thekeywords{#1}}
\makeatother

\renewenvironment{abstract}
  {\newpage
   \noindent\thetitle{}\\
   \theauthor{}\\
   Department of Computer Science and Engineering\\
   Chalmers University of Technology and University of Gothenburg

   \thispagestyle{plain} % Supress header
   \setlength{\parindent}{1.5em}
   \section*{Abstract}
  }
  {% KEYWORDS (MAXIMUM 10 WORDS)
   \vfill
   Keywords: \thekeywords

   \newpage	% Create empty back of side
   \thispagestyle{empty}
   \mbox{}
   }

\newenvironment{acknowledgements}
  {\newpage
   \thispagestyle{plain}			% Supress header
   \section*{Acknowledgements}
  }
  {\vspace{1.5cm}\\
   \hfill
   \begin{flushright}
     \theauthor, Gothenburg, \monthname \space \the\year
   \end{flushright}
   \newpage % Create empty back of side
   \thispagestyle{empty}
   \mbox{}
  }

\setlength{\parskip}{0pt plus 1pt}

% OPTIONAL SETTINGS (DELETE OR COMMENT TO SUPRESS)

% Caption settings (aligned left with bold name)
\usepackage[
    labelfont=bf
  , textfont=normal
  , justification=justified
  , singlelinecheck=false
]{caption}


% Activate clickable links in table of contents
\usepackage{hyperref}
\hypersetup{colorlinks, citecolor=black, filecolor=black, linkcolor=black, urlcolor=black}


% Define the number of section levels to be included in the t.o.c. and numbered	(3 is default)
\setcounter{tocdepth}{5}
\setcounter{secnumdepth}{5}


% Chapter title settings
\usepackage{titlesec}
\titleformat{\chapter}[display]
  {\Huge\bfseries\filcenter}
  {{\fontsize{50pt}{1em}\vspace{-4.2ex}\selectfont \textnormal{\thechapter}}}{1ex}{}[]


% Header and footer settings (Select TWOSIDE or ONESIDE layout below)
\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand{\chaptermark}[1]{\markboth{\thechapter.\space#1}{}}

\fancyhf{}
\fancyhead[LE,RO]{\nouppercase{ \leftmark}}
\fancyfoot[LE,RO]{\thepage}
\fancypagestyle{plain}{			% Redefine the plain page style
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\fancyfoot[LE,RO]{\thepage}}
